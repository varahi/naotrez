<script>
    Amplitude.init({
        "bindings": {
            37: 'prev',
            39: 'next',
            32: 'play_pause'
        },
        "songs": [

    <f:alias map="{ang: {s: '{', e: '}'}}">
    {ang.s}
    "name": "{item.title}",
        "artist": "{tem.artist}",
        "album": "{item.album}",
        "url": "{f:uri.typolink(parameter: '{item.songUrl}')}",
        "cover_art_url": "{f:uri.image(image:item.cover.originalResource, treatIdAsReference:1 height:'400', absolute: '1')}"
    {ang.e}
    </f:alias>

        ]
    });

    window.onkeydown = function(e) {
        return !(e.keyCode == 32);
    };

    /*
      Handles a click on the song played progress bar.
    */
    document.getElementById('song-played-progress').addEventListener('click', function( e ){
        var offset = this.getBoundingClientRect();
        var x = e.pageX - offset.left;

        Amplitude.setSongPlayedPercentage( ( parseFloat( x ) / parseFloat( this.offsetWidth) ) * 100 );
    });
</script>